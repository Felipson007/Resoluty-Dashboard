(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{9463:function(e,t,r){Promise.resolve().then(r.bind(r,3465))},3465:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Y}});var i=r(7437),o=r(9098),a=r(2265),n=r(2253),s=r(8693),l=r(5273),d=r(2323),c=r(1741),u=r(1386),x=r(4456),h=r(7494),p=r(4013),f=r(6387),m=r(3261),y=r(2425),g=r(1250),b=r(3485),j=r(3688),w=r(2438),Z=r(26),v=r(5631),k=r(9465),C=r(9832),E=r(2156),S=r(1691),I=r(9376),P=r(1524),F=r(6894),L=r(9946),D=r(9392),N=r(2581),A=r(1932),W=r(4574),_=r(8569),z=r(412),H=r(3679),R=r(4084);R.kL.register(R.uw,R.f$,R.ZL,R.qi,R.od,R.jn,R.Dx,R.u,R.De),P.default,F.default,L.default,D.default,N.default,A.default,W.default,_.default,z.default,H.default,L.default;let U={sidebar:"#FFFFFF",text:"#222222",border:"#E0E0E0",primary:"#1976d2"};var B={src:"/_next/static/media/logo.7f01b434.svg",height:595,width:842,blurWidth:0,blurHeight:0};let O=[{title:"Home",items:[{text:"Home",icon:(0,i.jsx)(y.Z,{}),path:"/dashboard"}]},{title:"Administrativo",items:[{text:"Gest\xe3o",icon:(0,i.jsx)(b.Z,{}),path:"/gestao"},{text:"Financeiro",icon:(0,i.jsx)(g.Z,{}),path:"/financeiro"}]},{title:"Geral",items:[{text:"Comercial",icon:(0,i.jsx)(j.Z,{}),path:"/comercial"},{text:"Costumer Sucess",icon:(0,i.jsx)(w.Z,{}),path:"/customer-success"},{text:"Administrativo",icon:(0,i.jsx)(v.Z,{}),path:"/administrativo"}]}];function J(){let e=(0,S.Z)(),t=(0,E.Z)(e.breakpoints.down("sm")),[r,y]=a.useState(!1),g=(0,I.useRouter)(),{logout:b}=(0,o.a)(),j=async()=>{try{await b(),g.push("/login")}catch(e){console.error("Erro ao fazer logout:",e)}};return t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.Z,{onClick:()=>y(!0),sx:{position:"fixed",top:16,left:16,zIndex:2e3,color:U.text},children:(0,i.jsx)(k.Z,{fontSize:"large"})}),(0,i.jsxs)(n.ZP,{anchor:"left",open:r,onClose:()=>y(!1),PaperProps:{sx:{background:U.sidebar,color:U.text,width:220}},children:[(0,i.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:2},children:(0,i.jsx)("img",{src:B,alt:"Resoluty Logo",style:{height:40}})}),(0,i.jsxs)(s.Z,{sx:{px:2,display:"flex",flexDirection:"column",height:"100%"},children:[(0,i.jsx)(s.Z,{sx:{flex:1},children:O.map(e=>(0,i.jsxs)(l.Z,{sx:{mb:2},children:[(0,i.jsx)(d.Z,{disableSticky:!0,sx:{background:"transparent",color:U.text,fontWeight:700},children:e.title}),e.items.map(e=>(0,i.jsxs)(c.Z,{onClick:()=>{y(!1),g.push(e.path)},sx:{pl:2,mb:.5,borderRadius:1,"&:hover":{background:U.border},background:e.path===window.location.pathname?U.primary:"transparent",color:U.text,display:"flex",alignItems:"center",gap:2},component:"li",children:[(0,i.jsx)(u.Z,{sx:{minWidth:36,color:U.text},children:e.icon}),(0,i.jsx)(x.Z,{primary:e.text})]},e.text))]},e.title))}),(0,i.jsx)(h.Z,{sx:{my:2,borderColor:U.text}}),(0,i.jsx)(p.Z,{fullWidth:!0,variant:"outlined",startIcon:(0,i.jsx)(Z.Z,{}),onClick:j,sx:{color:U.text,borderColor:U.text,"&:hover":{borderColor:U.primary,background:U.border}},children:"Sair"})]})]})]}):(0,i.jsx)(n.ZP,{variant:"permanent",open:r,PaperProps:{style:{width:240,background:U.sidebar,color:U.text,borderRight:"1px solid #eee",paddingTop:24}},children:(0,i.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,i.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:2},children:(0,i.jsx)("img",{src:B,alt:"Resoluty Logo",style:{height:40}})}),(0,i.jsx)(s.Z,{sx:{px:2,flex:1},children:O.map(e=>(0,i.jsxs)(s.Z,{mb:2,children:[(0,i.jsx)(f.Z,{variant:"body2",color:"textSecondary",fontWeight:500,mb:1,sx:{pl:1},children:e.title}),(0,i.jsx)(l.Z,{disablePadding:!0,children:e.items.map(e=>(0,i.jsxs)(m.ZP,{onClick:()=>g.push(e.path),sx:{pl:2,mb:.5,borderRadius:1,"&:hover":{background:U.border},background:e.path===window.location.pathname?U.primary:"transparent",color:(e.path,window.location.pathname,U.text)},component:"li",children:[(0,i.jsx)(u.Z,{sx:{minWidth:36,color:U.text},children:e.icon}),(0,i.jsx)(x.Z,{primary:e.text})]},e.text))})]},e.title))}),(0,i.jsxs)(s.Z,{sx:{px:2,pb:2},children:[(0,i.jsx)(h.Z,{sx:{mb:2,borderColor:U.text}}),(0,i.jsx)(p.Z,{fullWidth:!0,variant:"outlined",startIcon:(0,i.jsx)(Z.Z,{}),onClick:j,sx:{color:U.text,borderColor:U.text,"&:hover":{borderColor:U.primary,background:U.border}},children:"Sair"})]})]})})}function Y(e){let{children:t}=e,[r,n]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{n(!0)},[]),r)?(0,i.jsx)(o.H,{children:(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(J,{}),(0,i.jsx)("div",{style:{flex:1,paddingLeft:240,transition:"padding-left 0.2s"},children:t})]})}):(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)("div",{style:{flex:1,paddingLeft:240,transition:"padding-left 0.2s"},children:t})})}},9098:function(e,t,r){"use strict";r.d(t,{H:function(){return g},a:function(){return y}});var i=r(7437),o=r(2265),a=r(1466),n=r(996),s=r(5978);let l=(0,n.ZF)({apiKey:"AIzaSyDgFH74k2pOBWnYew00OMVBjnQYXcYzZdY",authDomain:"resolutydashboard.firebaseapp.com",projectId:"resolutydashboard",storageBucket:"resolutydashboard.firebasestorage.app",messagingSenderId:"948695454342",appId:"1:948695454342:web:f0f28af286ef883353f707"}),d=(0,a.v0)(l),c=(0,s.ad)(l);async function u(e){let t=(0,s.JU)(c,"users",e.uid),r={uid:e.uid,email:e.email,displayName:e.displayName||e.email.split("@")[0],role:"member",department:"general",createdAt:(0,s.Bt)(),lastLogin:(0,s.Bt)(),isActive:!0};await (0,s.pl)(t,r,{merge:!0})}async function x(e,t,r){try{let i=(await (0,a.Xb)(d,e,t)).user;return await u({uid:i.uid,email:i.email,displayName:r||i.displayName}),console.log("Usu\xe1rio registrado e perfil Firestore criado:",i.uid),i}catch(e){throw console.error("Erro no registro:",e.message),e}}async function h(e,t){try{let r=(await (0,a.e5)(d,e,t)).user;return await u({uid:r.uid,email:r.email,displayName:r.displayName}),console.log("Usu\xe1rio logado:",r.uid),r}catch(e){throw console.error("Erro no login:",e.message),e}}async function p(e){try{let t=(0,s.JU)(c,"users",e),r=await (0,s.QT)(t);if(r.exists())return r.data();return null}catch(e){throw console.error("Erro ao buscar perfil do usu\xe1rio:",e),e}}async function f(e,t){try{let r=(0,s.hJ)(c,"users"),i=(0,s.IO)(r,(0,s.ar)("uid","==",e)),o=await (0,s.PL)(i);if(o.empty)throw Error("Documento com UID ".concat(e," n\xe3o encontrado"));let a=o.docs[0],n=(0,s.JU)(c,"users",a.id);await (0,s.r7)(n,{...t,lastLogin:new Date})}catch(e){throw console.error("Erro ao atualizar perfil do usu\xe1rio:",e),e}}let m=(0,o.createContext)(void 0);function y(){let e=(0,o.useContext)(m);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function g(e){let{children:t}=e,[r,n]=(0,o.useState)(null),[s,l]=(0,o.useState)(null),[c,u]=(0,o.useState)(!0);async function y(e,t){return await h(e,t)}async function g(e,t){return await x(e,t)}async function b(){await (0,a.w7)(d)}async function j(e){await (0,a.LS)(d,e)}async function w(e){r&&(await f(r.uid,e),l(t=>t?{...t,...e}:null))}return(0,o.useEffect)(()=>(0,a.Aj)(d,async e=>{if(n(e),e)try{let t=await p(e.uid);l(t)}catch(e){console.error("Erro ao carregar perfil do usu\xe1rio:",e),l(null)}else l(null);u(!1)}),[]),(0,i.jsx)(m.Provider,{value:{currentUser:r,userProfile:s,login:y,signup:g,logout:b,resetPassword:j,updateProfile:w,loading:c},children:!c&&t})}}},function(e){e.O(0,[609,210,674,665,478,485,971,117,744],function(){return e(e.s=9463)}),_N_E=e.O()}]);